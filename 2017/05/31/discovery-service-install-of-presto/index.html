<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="侠客行舟|技术博客|Java|分布式|架构|大数据"><title>Presto独立服务发现(Discovery Service) | LP's Notes</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Presto独立服务发现(Discovery Service)</h1><a id="logo" href="/.">LP's Notes</a><p class="description">侠客行舟 不进则退</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Presto独立服务发现(Discovery Service)</h1><div class="post-meta">May 31, 2017<span> | </span><span class="category"><a href="/categories/原创文章/">原创文章</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Presto的运行机制"><span class="toc-number">1.</span> <span class="toc-text">Presto的运行机制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Presto-On-Yarn的问题"><span class="toc-number">2.</span> <span class="toc-text">Presto On Yarn的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Airlift-Discovery安装"><span class="toc-number">3.</span> <span class="toc-text">Airlift Discovery安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装步骤"><span class="toc-number">3.1.</span> <span class="toc-text">安装步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#环境配置"><span class="toc-number">3.2.</span> <span class="toc-text">环境配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Presto节点信息注册到发现服务"><span class="toc-number">4.</span> <span class="toc-text">Presto节点信息注册到发现服务</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Presto的客户端集成"><span class="toc-number">5.</span> <span class="toc-text">Presto的客户端集成</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#目前运行情况"><span class="toc-number">6.</span> <span class="toc-text">目前运行情况</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考文档："><span class="toc-number">7.</span> <span class="toc-text">参考文档：</span></a></li></ol></div></div><div class="post-content"><h1 id="Presto的运行机制"><a href="#Presto的运行机制" class="headerlink" title="Presto的运行机制"></a>Presto的运行机制</h1><p>Presto的运行机制如下：<br><img src="/2017/05/31/discovery-service-install-of-presto/presto-overview.png" title="[presto结构总览]"></p>
<p>不管是coordinator还是worker配置项中都有一项<code>discovery.uri</code>,这个是一个比较核心的东西，简单来说就是服务发现的地址。</p>
<p>coordinator和worker都会将自身注册到这个服务发现地址上，供彼此发现对方，coordinator可以通过个发现服务知道有多少worker节点，而worker节点可以通过这个发现服务知道coordinator是谁，这样做的好处是coordinator和worker做到了完全的解耦，彼此都不需要在启动时配置对方，而是通过第三方服务来发现对方。</p>
<a id="more"></a>
<h1 id="Presto-On-Yarn的问题"><a href="#Presto-On-Yarn的问题" class="headerlink" title="Presto On Yarn的问题"></a>Presto On Yarn的问题</h1><p>在默认的情况下这个发现服务是内嵌在coordinator中的，也就是coordinator在启动的时候会启动一个内嵌的发现服务，在这种情况下，coordinator将自身注册给自身的发现服务，而worker则将发现服务的地址配置成coordinator的发现服务地址，此时coordinator同时充当presto协调者和服务发现的提供者。</p>
<p>以上这种情况在一般的情况下可以良好的运行，但是当我们将presto服务迁移到Presto On Yarn时就会遇到一些问题：</p>
<ul>
<li><p>presto on yarn是一种动态的运行策略，在yarn上面，哪个节点运行presto的coordinator和worker是不确定的，这会给外部调用presto的程序带来困扰</p>
<p>外部的程序和presto的交流一般是通过presto提供的客户端来调用，而它的客户端需要事先知道presto的coordinator地址，在presto on yarn的情况下，coordinator的地址是不确定的，有可能会发生变化。</p>
<p>这种情况下的处理方案是：<b>将presto的服务发现方案外置</b>，将presto的服务发现服务独立于presto的coordinator运行，将presto的coordinator和worker中的<code>discovery.uri</code>配置成外部独立的发现服务地址，在外部提供具有HA的服务发现，提供稳定的发现服务。</p>
<p>Presto的服务发现是基于airlift的服务发现做的实现，airlift的服务发现可以在<a href="https://github.com/airlift/discovery" target="_blank" rel="noopener">这里</a>查看实现和源码，不过它基本是处于无文档的状态，所以理解要多花些功夫。</p>
<p>airlift的服务发现的总体思路是基于http提供一个提供服务发现的HA集群，集群之间通过http通信，通过数据同步方式，提供最终一致性的保证。</p>
<p>这里我们就来说说airlift的服务发现服务的HA安装。</p>
</li>
</ul>
<h1 id="Airlift-Discovery安装"><a href="#Airlift-Discovery安装" class="headerlink" title="Airlift Discovery安装"></a>Airlift Discovery安装</h1><h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><ol>
<li>下载源码<br>git clone <a href="https://github.com/airlift/discovery.git" target="_blank" rel="noopener">https://github.com/airlift/discovery.git</a></li>
<li>编译源码<br>mvn clean package -DskipTests=true</li>
<li>环境安装<br>将target目录下的discovery-server-<version>-SNAPSHOT.tar.gz安装包copy至安装机器上进行解压安装<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2></version></li>
<li>解压后在解压目录新建etc目录，并在etc目录下新建以下配置文件<ul>
<li>config.properties</li>
<li>jvm.config</li>
<li>log.properties</li>
<li>node.properties</li>
<li>service-inventory.json</li>
</ul>
</li>
<li><p>配置文件<br>config.properties文件为主配置文件，主要配置该discovery服务的主要配置信息，如运行环境，服务端口，节点id等信息，配置信息一般情况如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">node.environment=test</span><br><span class="line">http-server.http.port=8411</span><br><span class="line">node.id=597A741E-9968-40E2-BB4D-7AF26DE18689</span><br><span class="line">service-inventory.uri=file://&lt;installation-location-of-your-discovery-service&gt;/etc/service-inventory.json</span><br></pre></td></tr></table></figure>
<p>node.environment指定运行环境<br>http-server.http.port指定服务运行的端口<br>node.id指定该节点的id<br>service-inventory.uri指定了该集群拥有的所有节点信息</p>
<p>jvm.config文件主要配置服务jvm的配置信息，该配置和presto的配置文件的jvm配置类似，一般情况按如下信息自行进行调整：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-server</span><br><span class="line">-Xmx2G</span><br><span class="line">-XX:+UseG1GC</span><br><span class="line">-XX:G1HeapRegionSize=32M</span><br><span class="line">-XX:+UseGCOverheadLimit</span><br><span class="line">-XX:+ExplicitGCInvokesConcurrent</span><br><span class="line">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class="line">-XX:OnOutOfMemoryError=kill -9 %p</span><br></pre></td></tr></table></figure>
<p>log.properties主要记录的日志级别调整，这里不再叙述<br>node.properties主要记录的是节点相关的配置，类似于config.properties配置，但是不同点在于config.properties强调集群共有的特性，而node.properites强调节点间相同配置项的不同配置值区别<br>service-inventory.json这是一个比较重要的文件，里面记录了整个集群的信息，discovery集群利用这个配置文件获取集群的所有信息，知道集群中所有部署的情况及如何与其它节点进行通信。它的配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">   &#123;</span><br><span class="line">   &quot;environment&quot;: &quot;test&quot;,</span><br><span class="line">   &quot;services&quot;: [</span><br><span class="line">       &#123;</span><br><span class="line">           &quot;id&quot;: &quot;C8A9EE64-0476-452C-8638-8E72F3EE3CA6&quot;,</span><br><span class="line">           &quot;nodeId&quot;: &quot;597A741E-9968-40E2-BB4D-7AF26DE18689&quot;,</span><br><span class="line">           &quot;type&quot;: &quot;discovery&quot;,</span><br><span class="line">           &quot;pool&quot;: &quot;general&quot;,</span><br><span class="line">           &quot;location&quot;: &quot;/172.17.31.245&quot;,</span><br><span class="line">           &quot;state&quot;: &quot;RUNNING&quot;,</span><br><span class="line">           &quot;properties&quot;: &#123;</span><br><span class="line">               &quot;http&quot;: &quot;http://172.17.31.245:8411&quot;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">           &quot;id&quot;: &quot;370AF416-5F44-47D3-BFB6-D93A92676D49&quot;,</span><br><span class="line">           &quot;nodeId&quot;: &quot;0BA42FDB-5DBA-4A2C-BE26-9596B7B4368E&quot;,</span><br><span class="line">           &quot;type&quot;: &quot;discovery&quot;,</span><br><span class="line">           &quot;pool&quot;: &quot;general&quot;,</span><br><span class="line">           &quot;location&quot;: &quot;/172.17.31.246&quot;,</span><br><span class="line">           &quot;state&quot;: &quot;RUNNING&quot;,</span><br><span class="line">           &quot;properties&quot;: &#123;</span><br><span class="line">               &quot;http&quot;: &quot;http://172.17.31.246:8411&quot;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上面的配置中，集群中有两个节点，并指出了两个节点的节点id信息，以及他们的通信地址<code>properties.http</code>等信息，有了这份信息，集群中的各节点就知道如何同其它节点进行数据交互与同步了。</p>
</li>
<li><p>运行集群</p>
<p>在集群每个节点的安装目录下bin目录中运行: ./launcher start进行服务的启动， ./launcher stop 进行服务的停止 ./launcher restart 进行服务的重启</p>
</li>
<li><p>验证服务</p>
<p>当服务运行成功后，可以通过浏览器进行访问，若配置的端口为8411，则访问发现服务的地址为：<a href="http://localhost:8411/v1/service" target="_blank" rel="noopener">http://localhost:8411/v1/service</a><br>这个地址将返回所有注册到这个发现服务的服务的列表</p>
</li>
<li><p>高可用</p>
<p>因多台机器共同组成了发现服务，发现服务有最终一致性保障，所以只需要访问其中一台就可以，但是为了高可用，可以在发现服务前端加入NGINX作流量分担与负载解决高可用的问题</p>
</li>
</ol>
<h1 id="Presto节点信息注册到发现服务"><a href="#Presto节点信息注册到发现服务" class="headerlink" title="Presto节点信息注册到发现服务"></a>Presto节点信息注册到发现服务</h1><p>  将Presto的节点信息注册到发现服务非常简单，上面也说过了，Presto节点之前是通过自身位集群的coordinator节点充当服务发现者提供服务的，现在只需要将<code>discovery.uri</code>的配置换成外置的airlift服务发现服务地址就可以了用了。在这个示例中我将配置值修改成了’172.17.31.245:8411’,因为是测试环境，不需要过于要求的HA场景，所以我只配置了服务发现集群中的一个节点。</p>
<h1 id="Presto的客户端集成"><a href="#Presto的客户端集成" class="headerlink" title="Presto的客户端集成"></a>Presto的客户端集成</h1><p>  因Presto的客户端调用需要知道coordinator，而现在Presot On Yarn上了过后，coordinator的地址是不定的，且是注册到服务发现上的，对于Presto客户端想知道明确的coordinator地址需要做一些改变：将调用presto客户端前要先得到coordinator，而要得到coordinator可以通过服务发现获取，看了下airlift这个框架，它自身提供了服务发现的客户端的功能，但是看了有点晕眩，大致思路是实现一个http接口去定期轮询服务发现地址，得到服务地址(coordinator)就可以了，于是我自己实现了一个简易版本的，通过一个服务发现的网关地址，应用启动后通过后台线程每隔10s去轮询一次该服务发现网关，得到更新的coordirnator地址，更新本报的缓存，所有获取coordinator地址都从本地缓存中获取，避免每次的服务发现网关轮询。</p>
<h1 id="目前运行情况"><a href="#目前运行情况" class="headerlink" title="目前运行情况"></a>目前运行情况</h1><p>  目前运行情况良好，充分解决了Presto On Yarn后的coordinator随时可变的情况，应用能够根据coordinator的变化随时适应变化（10s延时）及时调整，避免因coordinator的变化导致的查询应用不可用问题。</p>
<h1 id="参考文档："><a href="#参考文档：" class="headerlink" title="参考文档："></a>参考文档：</h1><ul>
<li><a href="https://prestodb.io" target="_blank" rel="noopener">https://prestodb.io</a></li>
<li><a href="https://prestodb.io/presto-yarn" target="_blank" rel="noopener">https://prestodb.io/presto-yarn</a></li>
<li><a href="https://github.com/airlift/airlift" target="_blank" rel="noopener">https://github.com/airlift/airlift</a></li>
<li><a href="https://github.com/airlift/discovery" target="_blank" rel="noopener">https://github.com/airlift/discovery</a></li>
</ul>
</div><iframe src="/donate/?AliPayQR=/images/alipay.png&amp;WeChatQR=/images/wechat.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://www.lpnote.com/2017/05/31/discovery-service-install-of-presto/" data-id="cjs2ys7iw0085azp5q9mkupts" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACwUlEQVR42u3aQW7DMAwEwPz/0+01RWF5SUpuCoxPgZ3EGh1EguTrFV9fv66r++9P37/z+/PV0/X1OnHh4eHhjZe+ZqwXvV7u+jvrLcg3Ag8PD+8Z3tWJmr9yfSb3Tu98PZf38fDw8D6Mt/6HXuqcvAUPDw/v//KqsOR+NYnHw8PD+yteUoyolhImJYxdoQUPDw/vBC/vIn3O5yP9PTw8PLxxV7134Pb+oddOu3kXHh4e3gFetQg7SXYnTa9eIw0PDw/vBK/aglqXGKqY6tbk78XDw8N7kpf8UT5M0CsHJ1scbSseHh7eg7x1Gl1d4qQwkTy9KUPg4eHhbeVVm169sYBqEba66G3jAnh4eHgBL28v9Uq01YS7F5Zu+nt4eHh4W3l5u6vXoJoEkmrSXE6m8fDw8Fq8XoG1WoDIRxB2sS/jHh4eHt4mXj5AkFCrw1UnSsmFRePh4eEVeb0ya6+130uyqyHqJr3Gw8PDG/Oqx2u+lF3FjrxF96ouFw8PD2/Ay4/g6oKq7f9qTLsJWnh4eHgHeL2QkLe4kmGCyRhBtAY8PDy8rbykFJuUVqvl3RzTGz7Aw8PDO8ebNJmqDbBJOWMSuvDw8PD28vICQS8k5L/q3cfDw8N7njdvZU1GB/L/zIPWZUqNh4eHd4CXHOvVskKvuZUPeEVjYXh4eHjHeJMjPk9/8w2qDoQ1IwweHh7eJl6SZM+P77zlloSBZjECDw8Pb8DrDTZVGdXi7IYLDw8P7zAsP3arpdW88TbZjh9P8fDw8A7wemdsEh7y1lq1yJuk3aMQgoeHhxfwkmBQPYh7wwfV9lj0Rjw8PLxjvF5jLElk58f9JIDh4eHhfQIvL1tUA0aeKJdTajw8PLyP4VXDw2S5GyYj8PDw8Lby8sZ/nvjmv5qXbi/fgoeHh3eAly+0l+bmR3y1kLHtwsPDw0t5317FK/Bx5S08AAAAAElFTkSuQmCC">分享</a><div class="tags"><a href="/tags/大数据/">大数据</a><a href="/tags/presto/">presto</a></div><div class="post-nav"><a class="pre" href="/2017/06/14/usage-of-rebase-commits-in-git/">关于Git合并多个提交的做法：rebase</a><a class="next" href="/2017/05/23/automated-installation-on-a-yarn-based-cluster/">基于YARN-Based集群的presto自动安装(Presto On YARN)</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var path = "2017/05/31/discovery-service-install-of-presto/"
var paths = path.split("/")
var lastPathLen = paths[paths.length-1].length
var finalPath = paths[paths.length-1]
if(lastPathLen == 0) {
   finalPath = paths[paths.length-2]
}
var p = finalPath.length < 50 ? finalPath : finalPath.substring(0,49)
var gitment = new Gitment({
  id: p,
  owner: 'icanfly',
  repo: 'blog_comments',
  oauth: {
    client_id: '9d8f7a953f32b2942597',
    client_secret: 'efbc1217c60b17a9ceae6b2bbc6885dc17c51ac7',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://www.lpnote.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/">leetcode</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/原创文章/">原创文章</a><span class="category-list-count">38</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/原创文章/问题记录/">问题记录</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/翻译文章/">翻译文章</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/转载文章/">转载文章</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/问题记录/">问题记录</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/问题解析/" style="font-size: 15px;">问题解析</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/apache/" style="font-size: 15px;">apache</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/fastjson/" style="font-size: 15px;">fastjson</a> <a href="/tags/ranger/" style="font-size: 15px;">ranger</a> <a href="/tags/hdfs/" style="font-size: 15px;">hdfs</a> <a href="/tags/大数据/" style="font-size: 15px;">大数据</a> <a href="/tags/最佳实践/" style="font-size: 15px;">最佳实践</a> <a href="/tags/hortonworks/" style="font-size: 15px;">hortonworks</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/groovy/" style="font-size: 15px;">groovy</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/配置中心/" style="font-size: 15px;">配置中心</a> <a href="/tags/DIY/" style="font-size: 15px;">DIY</a> <a href="/tags/HIVE/" style="font-size: 15px;">HIVE</a> <a href="/tags/搜索引擎/" style="font-size: 15px;">搜索引擎</a> <a href="/tags/lucene/" style="font-size: 15px;">lucene</a> <a href="/tags/elasticsearch/" style="font-size: 15px;">elasticsearch</a> <a href="/tags/IDE/" style="font-size: 15px;">IDE</a> <a href="/tags/IDEA/" style="font-size: 15px;">IDEA</a> <a href="/tags/json/" style="font-size: 15px;">json</a> <a href="/tags/jackson/" style="font-size: 15px;">jackson</a> <a href="/tags/多线程/" style="font-size: 15px;">多线程</a> <a href="/tags/并发/" style="font-size: 15px;">并发</a> <a href="/tags/源码解读/" style="font-size: 15px;">源码解读</a> <a href="/tags/基础问题/" style="font-size: 15px;">基础问题</a> <a href="/tags/kafka/" style="font-size: 15px;">kafka</a> <a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/centos/" style="font-size: 15px;">centos</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/mac/" style="font-size: 15px;">mac</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/Mybatis/" style="font-size: 15px;">Mybatis</a> <a href="/tags/ORM/" style="font-size: 15px;">ORM</a> <a href="/tags/负载均衡/" style="font-size: 15px;">负载均衡</a> <a href="/tags/guava/" style="font-size: 15px;">guava</a> <a href="/tags/踩坑/" style="font-size: 15px;">踩坑</a> <a href="/tags/session/" style="font-size: 15px;">session</a> <a href="/tags/druid/" style="font-size: 15px;">druid</a> <a href="/tags/rpm/" style="font-size: 15px;">rpm</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/jetty/" style="font-size: 15px;">jetty</a> <a href="/tags/gc/" style="font-size: 15px;">gc</a> <a href="/tags/presto/" style="font-size: 15px;">presto</a> <a href="/tags/OOM/" style="font-size: 15px;">OOM</a> <a href="/tags/GC/" style="font-size: 15px;">GC</a> <a href="/tags/SVN/" style="font-size: 15px;">SVN</a> <a href="/tags/版本控制/" style="font-size: 15px;">版本控制</a> <a href="/tags/VCS/" style="font-size: 15px;">VCS</a> <a href="/tags/分支管理/" style="font-size: 15px;">分支管理</a> <a href="/tags/virtualbox/" style="font-size: 15px;">virtualbox</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/timewheels/" style="font-size: 15px;">timewheels</a> <a href="/tags/timer/" style="font-size: 15px;">timer</a> <a href="/tags/yarn/" style="font-size: 15px;">yarn</a> <a href="/tags/SpringCloud/" style="font-size: 15px;">SpringCloud</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/metrics/" style="font-size: 15px;">metrics</a> <a href="/tags/ambari/" style="font-size: 15px;">ambari</a> <a href="/tags/参与开源/" style="font-size: 15px;">参与开源</a> <a href="/tags/timewheel/" style="font-size: 15px;">timewheel</a> <a href="/tags/skywalking/" style="font-size: 15px;">skywalking</a> <a href="/tags/apm/" style="font-size: 15px;">apm</a> <a href="/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/tags/solr/" style="font-size: 15px;">solr</a> <a href="/tags/rocketmq/" style="font-size: 15px;">rocketmq</a> <a href="/tags/SpringBoot/" style="font-size: 15px;">SpringBoot</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/dubbo/" style="font-size: 15px;">dubbo</a> <a href="/tags/问题分析/" style="font-size: 15px;">问题分析</a> <a href="/tags/github/" style="font-size: 15px;">github</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/02/13/ignore_above-in-elasticsearch/">Elasticsearch中ignore_above的作用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/02/java-concurrent-striped64/">java并发之Striped64解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/31/memory-leak-analysis-for-skywalking/">一次Skywalking内存泄露的原因分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/31/write-combining/">合并写(write combining)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/31/false-sharing/">伪共享(False Sharing)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/08/groovy-expr-usage/">groovy-expr-usage</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/08/jackson-ctrl-char-problem-resovle/">jackson-ctrl-char-problem-resovle</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/04/solve-a-disk-warning-illusion-caused-by-rocketmq/">solve-a-disk-warning-illusion-caused-by-rocketmq</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/30/hexoclient-usage/">hexoclient-usage</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/23/customize-instance-id-with-consul-service-registry/">定制springcloud服务注册到consul中的instanceId</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">LP's Notes.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo. </a><a rel="nofollow" target="_blank" href="https://coding.net">Hosted by Coding Pages.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>